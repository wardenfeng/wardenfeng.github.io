<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"><!-- saved from url=(0014)about:internet --><html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><link rel="stylesheet" href="../../../style.css" type="text/css" media="screen"><link rel="stylesheet" href="../../../print.css" type="text/css" media="print"><link rel="stylesheet" href="../../../override.css" type="text/css"><meta name="keywords" content="FEventDispatcher,me.feng.events.FEventDispatcher,BUBBLE_PROPERTY,COMPLETED,COMPLETEDITEM,data,addEventListener,clone,dispatchEvent,hasEventListener,removeEventListener,toString,willTrigger"><title>me.feng.events.FEventDispatcher</title><script src="../../../AC_OETags.js" type="text/javascript"></script></head><body><script language="javascript" type="text/javascript" src="../../../asdoc.js"></script><script language="javascript" type="text/javascript" src="../../../help.js"></script><script language="javascript" type="text/javascript" src="../../../cookies.js"></script><script language="javascript" type="text/javascript"><!--
				asdocTitle = 'FEventDispatcher - feng3d参考文档';
				var baseRef = '../../../';
				window.onload = configPage;
			--></script>
<script type="text/javascript">
			scrollToNameAnchor();
		</script><table class="titleTable" cellpadding="0" cellspacing="0" id="titleTable" style="display:none"><tr><td class="titleTableTitle" align="left">feng3d	http://www.feng3d.me/</td><td class="titleTableTopNav" align="right"><a href="../../../package-summary.html" onclick="loadClassListFrame('../../../all-classes.html')">All Packages</a>&nbsp;|&nbsp;<a href="../../../class-summary.html" onclick="loadClassListFrame('../../../all-classes.html')">All Classes</a>&nbsp;|&nbsp;<a href="../../../all-index-A.html" onclick="loadClassListFrame('../../../index-list.html')">Index</a>&nbsp;|&nbsp;<a id="framesLink1" href="../../../index.html?me/feng/events/FEventDispatcher.html&amp;me/feng/events/class-list.html">Frames</a><a id="noFramesLink1" style="display:none" href="" onclick="parent.location=document.location"> No Frames </a></td><td class="titleTableLogo" align="right" rowspan="3"><img src="../../../images/logo.jpg" class="logoImage" alt="AdobeLogo" title="AdobeLogo"></td></tr><tr class="titleTableRow2"><td class="titleTableSubTitle" id="subTitle" align="left">FEventDispatcher</td><td class="titleTableSubNav" id="subNav" align="right"><a href="#propertySummary">Properties</a>&nbsp;| <a href="#methodSummary">Methods</a>&nbsp;| <a href="#constantSummary">Constants</a>&nbsp;| <a href="#includeExamplesSummary">Examples</a></td></tr><tr class="titleTableRow3"><td colspan="3">&nbsp;</td></tr></table><script language="javascript" type="text/javascript" xml:space="preserve">
				<!--
				
					if (!isEclipse() || window.name != ECLIPSE_FRAME_NAME) {titleBar_setSubTitle("FEventDispatcher"); titleBar_setSubNav(true,true,false,false,false,false,false,false,true,true,false	,false,false,false,false,false);}	
				-->
			</script><div xmlns:fn="http://www.w3.org/2005/xpath-functions" class="MainContent"><table class="classHeaderTable" cellpadding="0" cellspacing="0"><tr><td class="classHeaderTableLabel">Package</td><td><a href="package-detail.html" onclick="javascript:loadClassListFrame('class-list.html')">me.feng.events</a></td></tr><tr><td class="classHeaderTableLabel">Class</td><td class="classSignature">public  class  FEventDispatcher</td></tr><tr><td class="classHeaderTableLabel">Inheritance</td><td class="inheritanceList">FEventDispatcher  <img src="../../../images/inherit-arrow.gif" title="Inheritance" alt="Inheritance" class="inheritArrow"> <a href="../../../me/feng/core/NamedBase.html">NamedBase</a> <img src="../../../images/inherit-arrow.gif" title="Inheritance" alt="Inheritance" class="inheritArrow"> Object</td></tr><tr><td class="classHeaderTableLabel">Implements</td><td> flash.events.IEventDispatcher</td></tr><tr><td class="classHeaderTableLabel">Subclasses</td><td> <a href="../../../me/feng3d/animators/base/node/AnimationNodeBase.html">AnimationNodeBase</a>,  <a href="../../../me/feng/component/Component.html">Component</a>,  <a href="../../../me/feng3d/core/base/Context3DBufferOwner.html">Context3DBufferOwner</a>,  <a href="../../../me/feng3d/core/base/data/Element3D.html">Element3D</a>,  <a href="../../../me/feng3d/core/base/Geometry.html">Geometry</a>,  <a href="../../../me/feng/core/GlobalDispatcher.html">GlobalDispatcher</a>,  <a href="../../../me/feng3d/cameras/lenses/LensBase.html">LensBase</a>,  <a href="../../../me/feng3d/materials/lightpickers/LightPickerBase.html">LightPickerBase</a>,  <a href="../../../me/feng3d/materials/MaterialBase.html">MaterialBase</a>,  <a href="../../../me/feng3d/parsers/ParserBase.html">ParserBase</a>,  <a href="../../../me/feng3d/animators/skeleton/data/Skeleton.html">Skeleton</a>,  <a href="../../../me/feng3d/animators/skeleton/data/SkeletonPose.html">SkeletonPose</a>,  <a href="../../../me/feng/task/Task.html">Task</a></td></tr></table><p></p><p></p><p></p><p></p>
	 实现能在非flash原生显示列表中的冒泡的事件适配器.
	 <p>事件过程使用原生事件机制，不过增强了冒泡功能，使得事件会向上级（默认parent）冒泡。</p>
	 
	           <p></p><p><a href="#includeExamplesSummary">View the examples</a></p><br/><hr></div><a name="propertySummary"></a><div class="summarySection"><div class="summaryTableTitle">Public Properties</div><div class="showHideLinks"><div id="hideInheritedProperty" class="hideInheritedProperty"><a class="showHideLink" href="#propertySummary" onclick="javascript:setInheritedVisible(false,'Property');"><img class="showHideLinkImage" src="../../../images/expanded.gif"> Hide Inherited Public Properties</a></div><div id="showInheritedProperty" class="showInheritedProperty"><a class="showHideLink" href="#propertySummary" onclick="javascript:setInheritedVisible(true,'Property');"><img class="showHideLinkImage" src="../../../images/collapsed.gif"> Show Inherited Public Properties</a></div></div><table cellspacing="0" cellpadding="3" class="summaryTable hideInheritedProperty" id="summaryTableProperty"><tr><th>&nbsp;</th><th colspan="2">Property</th><th class="summaryTableOwnerCol">Defined By</th></tr><tr class="hideInheritedProperty"><td class="summaryTablePaddingCol">&nbsp;</td><td class="summaryTableInheritanceCol"><img src="../../../images/inheritedSummary.gif" alt="Inherited" title="Inherited" class="inheritedSummaryImage"></td><td class="summaryTableSignatureCol"><a href="../../../me/feng/core/NamedBase.html#name" class="signatureLink">name</a> : String<div class="summaryTableDescription">
		 名称
		 </div></td><td class="summaryTableOwnerCol"><a href="../../../me/feng/core/NamedBase.html">NamedBase</a></td></tr></table></div><a name="methodSummary"></a><div class="summarySection"><div class="summaryTableTitle">Public Methods </div><table cellspacing="0" cellpadding="3" class="summaryTable " id="summaryTableMethod"><tr><th>&nbsp;</th><th colspan="2">Method</th><th class="summaryTableOwnerCol">Defined By</th></tr><tr class=""><td class="summaryTablePaddingCol">&nbsp;</td><td class="summaryTableInheritanceCol">&nbsp;</td><td class="summaryTableSignatureCol"><div class="summarySignature"><a href="#FEventDispatcher()" class="signatureLink">FEventDispatcher</a>(target:IEventDispatcher = null)</div><div class="summaryTableDescription">
		 创建 FEventDispatcher 类的实例.</div></td><td class="summaryTableOwnerCol">FEventDispatcher</td></tr><tr class=""><td class="summaryTablePaddingCol">&nbsp;</td><td class="summaryTableInheritanceCol">&nbsp;</td><td class="summaryTableSignatureCol"><div class="summarySignature"><a href="#addEventListener()" class="signatureLink">addEventListener</a>(type:String, listener:Function, useCapture:Boolean = false, priority:int = 0, useWeakReference:Boolean = false):void</div><div class="summaryTableDescription">
		 使用 EventDispatcher 对象注册事件侦听器对象，以使侦听器能够接收事件通知.</div></td><td class="summaryTableOwnerCol">FEventDispatcher</td></tr><tr class=""><td class="summaryTablePaddingCol">&nbsp;</td><td class="summaryTableInheritanceCol">&nbsp;</td><td class="summaryTableSignatureCol"><div class="summarySignature"><a href="#dispatchEvent()" class="signatureLink">dispatchEvent</a>(event:Event):Boolean</div><div class="summaryTableDescription">
		 将事件调度到事件流中.</div></td><td class="summaryTableOwnerCol">FEventDispatcher</td></tr><tr class=""><td class="summaryTablePaddingCol">&nbsp;</td><td class="summaryTableInheritanceCol">&nbsp;</td><td class="summaryTableSignatureCol"><div class="summarySignature"><a href="#hasEventListener()" class="signatureLink">hasEventListener</a>(type:String):Boolean</div><div class="summaryTableDescription">
		 检查 EventDispatcher 对象是否为特定事件类型注册了任何侦听器.</div></td><td class="summaryTableOwnerCol">FEventDispatcher</td></tr><tr class=""><td class="summaryTablePaddingCol">&nbsp;</td><td class="summaryTableInheritanceCol">&nbsp;</td><td class="summaryTableSignatureCol"><div class="summarySignature"><a href="#removeEventListener()" class="signatureLink">removeEventListener</a>(type:String, listener:Function, useCapture:Boolean = false):void</div><div class="summaryTableDescription">
		 从 EventDispatcher 对象中删除侦听器.</div></td><td class="summaryTableOwnerCol">FEventDispatcher</td></tr><tr class=""><td class="summaryTablePaddingCol">&nbsp;</td><td class="summaryTableInheritanceCol">&nbsp;</td><td class="summaryTableSignatureCol"><div class="summarySignature"><a href="#willTrigger()" class="signatureLink">willTrigger</a>(type:String):Boolean</div><div class="summaryTableDescription">
		 检查是否用此 EventDispatcher 对象或其任何祖代为指定事件类型注册了事件侦听器.</div></td><td class="summaryTableOwnerCol">FEventDispatcher</td></tr></table></div><a name="constantSummary"></a><div class="summarySection"><div class="summaryTableTitle">Public Constants</div><table cellspacing="0" cellpadding="3" class="summaryTable " id="summaryTableConstant"><tr><th>&nbsp;</th><th colspan="2">Constant</th><th class="summaryTableOwnerCol">Defined By</th></tr><tr class=""><td class="summaryTablePaddingCol">&nbsp;</td><td class="summaryTableInheritanceCol">&nbsp;</td><td class="summaryTableSignatureCol"><a href="#BUBBLE_PROPERTY" class="signatureLink">BUBBLE_PROPERTY</a> : String = parent<div class="summaryTableDescription">[static] 
		 冒泡属性名称，或者称为上级（默认为parent）
		 </div></td><td class="summaryTableOwnerCol">FEventDispatcher</td></tr></table></div><script language="javascript" type="text/javascript"><!--
										showHideInherited();
										--></script><div class="MainContent"><a name="constructorDetail"></a><div class="detailSectionHeader">Constructor Detail</div><a name="FEventDispatcher()"></a><a name="FEventDispatcher(flash.events.IEventDispatcher)"></a><table class="detailHeader" cellpadding="0" cellspacing="0"><tr><td class="detailHeaderName">FEventDispatcher</td><td class="detailHeaderParens">()</td><td class="detailHeaderType">Constructor</td></tr></table><div class="detailBody"><code>public function FEventDispatcher(target:IEventDispatcher = null)</code><p></p><p>
		 创建 FEventDispatcher 类的实例.
		 
		 <p>FEventDispatcher 类通常用作基类，这意味着大多数开发人员都无需使用此构造函数。但是，实现 IEventDispatcher 接口的高级开发人员则需要使用此构造函数。如果您无法扩展 EventDispatcher 类并且必须实现 IEventDispatcher 接口，请使用此构造函数来聚合 EventDispatcher 类的实例。</p>
		 
		 </p><span class="label"> Parameters </span><table cellpadding="0" cellspacing="0" border="0"><tr><td width="20px"></td><td><code><span class="label">target</span>:IEventDispatcher</code> (default = <code>null</code>)<code></code> &mdash; 	 (default = null) &mdash; 调度到 EventDispatcher 对象的事件的目标对象。当 EventDispatcher 实例由实现 IEventDispatcher 的类聚合时，使用此参数；此参数是必需的，以便包含对象可以是事件的目标。请勿在类扩展了 EventDispatcher 的简单情况下使用此参数。
		 
		 </td></tr></table><p><span class="label">See also</span></p><div class="seeAlso">flash.events.EventDispatcher.EventDispatcher()</div></div><a name="methodDetail"></a><div class="detailSectionHeader">Method Detail</div><a name="addEventListener()"></a><a name="addEventListener(String,Function,Boolean,int,Boolean)"></a><table class="detailHeader" cellpadding="0" cellspacing="0"><tr><td class="detailHeaderName">addEventListener</td><td class="detailHeaderParens">()</td><td class="detailHeaderType">method</td></tr></table><div class="detailBody"><code> public function addEventListener(type:String, listener:Function, useCapture:Boolean = false, priority:int = 0, useWeakReference:Boolean = false):void</code><p></p><p></p><p>
		 使用 EventDispatcher 对象注册事件侦听器对象，以使侦听器能够接收事件通知. 可以为特定类型的事件、阶段和优先级在显示列表中的所有节点上注册事件侦听器。
		 
		 <p>成功注册一个事件侦听器后，无法通过额外调用 addEventListener() 来更改其优先级。要更改侦听器的优先级，必须首先调用 removeListener()。然后，可以使用新的优先级再次注册该侦听器。 </p>
		 <p>请记住，注册该侦听器后，如果继续调用具有不同 type 或 useCapture 值的 addEventListener()，则会创建单独的侦听器注册。例如，如果首先注册 useCapture 设置为 true 的侦听器，则该侦听器只在捕获阶段进行侦听。如果使用同一个侦听器对象再次调用 addEventListener()，并将 useCapture 设置为 false，那么便会拥有两个单独的侦听器：一个在捕获阶段进行侦听，另一个在目标和冒泡阶段进行侦听。 </p>
		 <p>不能只为目标阶段或冒泡阶段注册事件侦听器。这些阶段在注册期间是成对出现的，因为冒泡阶段只适用于目标节点的祖代。</p>
		 <p>如果不再需要某个事件侦听器，可调用 removeEventListener() 删除它，否则会产生内存问题。事件侦听器不会自动从内存中删除，因为只要调度对象存在，垃圾回收器就不会删除侦听器（除非 useWeakReference 参数设置为 true）。</p>
		 <p>复制 EventDispatcher 实例时并不复制其中附加的事件侦听器。（如果新近创建的节点需要一个事件侦听器，必须在创建该节点后附加该侦听器。）但是，如果移动 EventDispatcher 实例，则其中附加的事件侦听器也会随之移动。</p>
		 <p>如果在正在处理事件的节点上注册事件侦听器，则不会在当前阶段触发事件侦听器，但会在事件流的稍后阶段触发，如冒泡阶段。</p>
		 <p>如果从正在处理事件的节点中删除事件侦听器，则该事件侦听器仍由当前操作触发。删除事件侦听器后，决不会再次调用该事件侦听器（除非再次注册以备将来处理）。 </p>
		 
		 
		 </p><p><span class="label"> Parameters </span><table cellpadding="0" cellspacing="0" border="0"><tr><td width="20px"></td><td><code><span class="label">type</span>:String</code> &mdash; 					事件的类型。
		 </td></tr><tr><td class="paramSpacer">&nbsp;</td></tr><tr><td width="20px"></td><td><code><span class="label">listener</span>:Function</code> &mdash; 				处理事件的侦听器函数。此函数必须接受 Event 对象作为其唯一的参数，并且不能返回任何结果，如下面的示例所示： <pre>function(evt:Event):void</pre>函数可以有任何名称。
		 </td></tr><tr><td class="paramSpacer">&nbsp;</td></tr><tr><td width="20px"></td><td><code><span class="label">useCapture</span>:Boolean</code> (default = <code>false</code>)<code></code> &mdash; 			确定侦听器是运行于捕获阶段还是运行于目标和冒泡阶段。如果将 useCapture 设置为 true，则侦听器只在捕获阶段处理事件，而不在目标或冒泡阶段处理事件。如果 useCapture 为 false，则侦听器只在目标或冒泡阶段处理事件。要在所有三个阶段都侦听事件，请调用 addEventListener 两次：一次将 useCapture 设置为 true，一次将 useCapture 设置为 false。
		 </td></tr><tr><td class="paramSpacer">&nbsp;</td></tr><tr><td width="20px"></td><td><code><span class="label">priority</span>:int</code> (default = <code>0</code>)<code></code> &mdash; 				事件侦听器的优先级。优先级由一个带符号的 32 位整数指定。数字越大，优先级越高。优先级为 n 的所有侦听器会在优先级为 n -1 的侦听器之前得到处理。如果两个或更多个侦听器共享相同的优先级，则按照它们的添加顺序进行处理。默认优先级为 0。
		 </td></tr><tr><td class="paramSpacer">&nbsp;</td></tr><tr><td width="20px"></td><td><code><span class="label">useWeakReference</span>:Boolean</code> (default = <code>false</code>)<code></code> &mdash; 		确定对侦听器的引用是强引用，还是弱引用。强引用（默认值）可防止您的侦听器被当作垃圾回收。弱引用则没有此作用。
		 
		 </td></tr></table></p><p><span class="label">See also</span></p><div class="seeAlso">flash.events.EventDispatcher.addEventListener()</div></div><a name="dispatchEvent()"></a><a name="dispatchEvent(flash.events.Event)"></a><table class="detailHeader" cellpadding="0" cellspacing="0"><tr><td class="detailHeaderName">dispatchEvent</td><td class="detailHeaderParens">()</td><td class="detailHeaderType">method</td><td class="detailHeaderRule">&nbsp;</td></tr></table><div class="detailBody"><code> public function dispatchEvent(event:Event):Boolean</code><p></p><p></p><p>
		 将事件调度到事件流中. 事件目标是对其调用 dispatchEvent() 方法的 EventDispatcher 对象。
		 
		 </p><p><span class="label"> Parameters </span><table cellpadding="0" cellspacing="0" border="0"><tr><td width="20px"></td><td><code><span class="label">event</span>:Event</code> &mdash; 					调度到事件流中的 Event 对象。如果正在重新调度事件，则会自动创建此事件的一个克隆。在调度了事件后，其 target 属性将无法更改，因此您必须创建此事件的一个新副本以能够重新调度。
		 </td></tr></table></p><p></p><span class="label">Returns</span><table cellpadding="0" cellspacing="0" border="0"><tr><td width="20"></td><td><code>Boolean</code> &mdash; 如果成功调度了事件，则值为 true。值 false 表示失败或对事件调用了 preventDefault()。
		 </td></tr></table></div><a name="hasEventListener()"></a><a name="hasEventListener(String)"></a><table class="detailHeader" cellpadding="0" cellspacing="0"><tr><td class="detailHeaderName">hasEventListener</td><td class="detailHeaderParens">()</td><td class="detailHeaderType">method</td><td class="detailHeaderRule">&nbsp;</td></tr></table><div class="detailBody"><code> public function hasEventListener(type:String):Boolean</code><p></p><p></p><p>
		 检查 EventDispatcher 对象是否为特定事件类型注册了任何侦听器. 这样，您就可以确定 EventDispatcher 对象在事件流层次结构中的哪个位置改变了对事件类型的处理。要确定特定事件类型是否确实触发了事件侦听器，请使用 willTrigger()。
		 <p>hasEventListener() 与 willTrigger() 的区别是：hasEventListener() 只检查它所属的对象，而 willTrigger() 检查整个事件流以查找由 type 参数指定的事件。</p>
		 <p>当从 LoaderInfo 对象调用 hasEventListener() 时，只考虑调用方可以访问的侦听器。</p>
		 
		 </p><p><span class="label"> Parameters </span><table cellpadding="0" cellspacing="0" border="0"><tr><td width="20px"></td><td><code><span class="label">type</span>:String</code> &mdash; 	事件的类型。
		 </td></tr></table></p><p></p><span class="label">Returns</span><table cellpadding="0" cellspacing="0" border="0"><tr><td width="20"></td><td><code>Boolean</code> &mdash; 如果指定类型的侦听器已注册，则值为 true；否则，值为 false。
		 </td></tr></table></div><a name="removeEventListener()"></a><a name="removeEventListener(String,Function,Boolean)"></a><table class="detailHeader" cellpadding="0" cellspacing="0"><tr><td class="detailHeaderName">removeEventListener</td><td class="detailHeaderParens">()</td><td class="detailHeaderType">method</td><td class="detailHeaderRule">&nbsp;</td></tr></table><div class="detailBody"><code> public function removeEventListener(type:String, listener:Function, useCapture:Boolean = false):void</code><p></p><p></p><p>
		 从 EventDispatcher 对象中删除侦听器. 如果没有向 EventDispatcher 对象注册任何匹配的侦听器，则对此方法的调用没有任何效果。
		 
		 </p><p><span class="label"> Parameters </span><table cellpadding="0" cellspacing="0" border="0"><tr><td width="20px"></td><td><code><span class="label">type</span>:String</code> &mdash; 					事件的类型。
		 </td></tr><tr><td class="paramSpacer">&nbsp;</td></tr><tr><td width="20px"></td><td><code><span class="label">listener</span>:Function</code> &mdash; 				要删除的侦听器对象。
		 </td></tr><tr><td class="paramSpacer">&nbsp;</td></tr><tr><td width="20px"></td><td><code><span class="label">useCapture</span>:Boolean</code> (default = <code>false</code>)<code></code> &mdash; 			指出是为捕获阶段还是为目标和冒泡阶段注册了侦听器。如果为捕获阶段以及目标和冒泡阶段注册了侦听器，则需要对 removeEventListener() 进行两次调用才能将这两个侦听器删除，一次调用将 useCapture() 设置为 true，另一次调用将 useCapture() 设置为 false。
		 </td></tr></table></p><p><span class="label">See also</span></p><div class="seeAlso">flash.events.EventDispatcher.removeEventListener()</div></div><a name="willTrigger()"></a><a name="willTrigger(String)"></a><table class="detailHeader" cellpadding="0" cellspacing="0"><tr><td class="detailHeaderName">willTrigger</td><td class="detailHeaderParens">()</td><td class="detailHeaderType">method</td><td class="detailHeaderRule">&nbsp;</td></tr></table><div class="detailBody"><code> public function willTrigger(type:String):Boolean</code><p></p><p></p><p>
		 检查是否用此 EventDispatcher 对象或其任何祖代为指定事件类型注册了事件侦听器. 将指定类型的事件调度给此 EventDispatcher 对象或其任一后代时，如果在事件流的任何阶段触发了事件侦听器，则此方法返回 true。
		 <p>hasEventListener() 与 willTrigger() 方法的区别是：hasEventListener() 只检查它所属的对象，而 willTrigger() 方法检查整个事件流以查找由 type 参数指定的事件。 </p>
		 <p>当从 LoaderInfo 对象调用 willTrigger() 时，只考虑调用方可以访问的侦听器。</p>
		 
		 </p><p><span class="label"> Parameters </span><table cellpadding="0" cellspacing="0" border="0"><tr><td width="20px"></td><td><code><span class="label">type</span>:String</code> &mdash; 	事件的类型。
		 </td></tr></table></p><p></p><span class="label">Returns</span><table cellpadding="0" cellspacing="0" border="0"><tr><td width="20"></td><td><code>Boolean</code> &mdash; 如果将会触发指定类型的侦听器，则值为 true；否则，值为 false。
		 </td></tr></table></div><div class="detailSectionHeader">Constant Detail</div><a name="constantDetail"></a><a name="BUBBLE_PROPERTY"></a><table class="detailHeader" cellpadding="0" cellspacing="0"><tr><td class="detailHeaderName">BUBBLE_PROPERTY</td><td class="detailHeaderType">Constant</td></tr></table><div class="detailBody"><code>public static const BUBBLE_PROPERTY:String = parent</code><p></p><p></p><p>
		 冒泡属性名称，或者称为上级（默认为parent）
		 </p></div><a name="includeExamplesSummary"></a><div class="detailSectionHeader">Examples</div><div class="exampleHeader">CustomEventContentAssistTest.as</div><br/><div class="detailBody"><div class="listing"><pre>package me.feng.events
{
    import flash.display.Sprite;

    // 自定义事件内容辅助测试
    // @author warden_feng 2015-2-13
    public class CustomEventContentAssistTest extends TestBase
    {
        public function init():void
        {

            var ad:CustomDispatcher = new CustomDispatcher();
            //.addEventListener( 后会自动提示的事件名称列表中 包括 “test3d”
            //如果 写在该文件外时 会提示 “CustomEvent.TEST”
            ad.addEventListener("test3d", onTest3D);

            var spr:Sprite = new Sprite()
//            spr.addEventListener(
        }

        protected function onTest3D(event:CustomEvent):void
        {
            // TODO Auto-generated method stub

        }
    }
}

import flash.events.Event;
import flash.events.IEventDispatcher;

import me.feng.events.FEventDispatcher;

// sdsd 
[Event(name = "test3d", type = "CustomEvent")]

// sdsfk 
[Event(name = "added", type = "flash.events.Event")]
// sdsfk1 
[Event(name = "activate", type = "flash.events.Event")]

class CustomDispatcher extends FEventDispatcher implements IEventDispatcher
{
    public function CustomDispatcher()
    {
    }
}

class CustomEvent extends Event
{
    public static const TEST:String = "test3d";

    public function CustomEvent(type:String, bubbles:Boolean = false, cancelable:Boolean = false)
    {
        super(type, bubbles, cancelable);
    }
}
</pre></div><script language="javascript" type="text/javascript"><!-- AC_FL_RunContent( "src", "CustomEventContentAssistTest", "width", "100%",
					"height","400px", "salign", "TL", "id", "example1", "quality", "high", "bgcolor", "", "name",
						"example1", "flashvars","", "allowScriptAccess","sameDomain", "type",
					"application/x-shockwave-flash","pluginspage", "http://www.macromedia.com/go/getflashplayer" ); --></script></div><div class="exampleHeader">EventBubblesTest.as</div><br/><div class="detailBody"><div class="listing"><pre>package me.feng.events
{

    //
    // 事件冒泡测试
    // @author warden_feng 2014-11-26
    //
    public class EventBubblesTest extends TestBase
    {
        public var a:Container = new Container("a");
        public var b:Container = new Container("b");
        public var c:Container = new Container("c");

        public function init():void
        {
            a.addChild(b);
            b.addChild(c);
            a.addEventListener("testEvent", onTestEvent);
            b.addEventListener("testEvent", onTestEvent);
            c.addEventListener("testEvent", onTestEvent);

//            a.addEventListener("testEvent", onTestEvent1);
//            b.addEventListener("testEvent", onTestEvent1);
//            c.addEventListener("testEvent", onTestEvent1);

//            a.dispatchEvent(new FEvent("testEvent", null, true));
//            b.dispatchEvent(new FEvent("testEvent", null, true));
            c.dispatchEvent(new FEvent("testEvent", null, true));
        }

        private function onTestEvent(event:FEvent):void
        {
            trace(event, event.target, event.currentTarget);

            //测试事件停止函数
//            if (event.currentTarget == b)
//                event.stopPropagation();

            //测试事件停止函数
//            if (event.currentTarget == b)
//                event.stopImmediatePropagation();
        }

        private function onTestEvent1(event:FEvent):void
        {
            trace(event, event.target, event.currentTarget);

            //测试事件停止函数
            if (event.currentTarget == b)
                event.stopImmediatePropagation();
        }
    }
}
import me.feng.events.FEventDispatcher;

class Container extends FEventDispatcher
{
    public var parent:Container;

    public function Container(name:String):void
    {
        this.name = name;
    }

    public function addChild(container:Container):void
    {
        container.parent = this;
    }

    public function toString():String
    {
        return name;
    }
}
</pre></div><script language="javascript" type="text/javascript"><!-- AC_FL_RunContent( "src", "EventBubblesTest", "width", "100%",
					"height","400px", "salign", "TL", "id", "example2", "quality", "high", "bgcolor", "", "name",
						"example2", "flashvars","", "allowScriptAccess","sameDomain", "type",
					"application/x-shockwave-flash","pluginspage", "http://www.macromedia.com/go/getflashplayer" ); --></script></div><div class="exampleHeader">EventBubblesTest2.as</div><br/><div class="detailBody"><div class="listing"><pre>package me.feng.events
{

    //
    // 事件冒泡测试(使用接口)
    // @author warden_feng 2014-11-26
    //
    public class EventBubblesTest2 extends TestBase
    {
        public var a:Container = new Container("a");
        public var b:Container = new Container("b");
        public var c:Container = new Container("c");

        public function init():void
        {
            a.addChild(b);
            b.addChild(c);
            a.addEventListener("testEvent", onTestEvent);
            b.addEventListener("testEvent", onTestEvent);
            c.addEventListener("testEvent", onTestEvent);

            //            a.dispatchEvent(new FEvent("testEvent", null, true));
            //            b.dispatchEvent(new FEvent("testEvent", null, true));
            c.dispatchEvent(new FEvent("testEvent", null, true));
        }

        private function onTestEvent(event:FEvent):void
        {
            trace(event, event.target, event.currentTarget);
        }
    }
}
import flash.events.Event;
import flash.events.IEventDispatcher;

import me.feng.events.FEventDispatcher;

class Container implements IEventDispatcher
{
    // 使用于冒泡 
    public var parent:Container;

    private var _name:String;
    private var dispatcher:FEventDispatcher;

    public function Container(name:String):void
    {
        _name = name;
        dispatcher = new FEventDispatcher(this);
    }

    public function addChild(container:Container):void
    {
        container.parent = this;
    }

    public function toString():String
    {
        return _name;
    }

    public function addEventListener(type:String, listener:Function, useCapture:Boolean = false, priority:int = 0, useWeakReference:Boolean = false):void
    {
        dispatcher.addEventListener(type, listener);
    }

    public function dispatchEvent(event:Event):Boolean
    {
        return dispatcher.dispatchEvent(event);
    }

    public function removeEventListener(type:String, listener:Function, useCapture:Boolean = false):void
    {
        dispatcher.removeEventListener(type, listener);
    }

    public function hasEventListener(type:String):Boolean
    {
        return dispatcher.hasEventListener(type);
    }


    public function willTrigger(type:String):Boolean
    {
        // TODO Auto Generated method stub
        return false;
    }
}
</pre></div><script language="javascript" type="text/javascript"><!-- AC_FL_RunContent( "src", "EventBubblesTest2", "width", "100%",
					"height","400px", "salign", "TL", "id", "example3", "quality", "high", "bgcolor", "", "name",
						"example3", "flashvars","", "allowScriptAccess","sameDomain", "type",
					"application/x-shockwave-flash","pluginspage", "http://www.macromedia.com/go/getflashplayer" ); --></script></div><div class="exampleHeader">FEventDispatcherTest.as</div><br/><div class="detailBody"><div class="listing"><pre>package me.feng.events
{

    //
    // 测试事件调度器
    // @author warden_feng 2014-11-26
    //
    public class FEventDispatcherTest extends TestBase
    {
        public function init():void
        {
            var dispatcher:FEventDispatcher = new FEventDispatcher();
            dispatcher.addEventListener("testEvent", onTestEvent);
            dispatcher.addEventListener("testEvent", onTestEvent);
            dispatcher.dispatchEvent(new FEvent("testEvent"));
        }

        private function onTestEvent(event:FEvent):void
        {
            trace(event.toString());
        }
    }
}
</pre></div><script language="javascript" type="text/javascript"><!-- AC_FL_RunContent( "src", "FEventDispatcherTest", "width", "100%",
					"height","400px", "salign", "TL", "id", "example4", "quality", "high", "bgcolor", "", "name",
						"example4", "flashvars","", "allowScriptAccess","sameDomain", "type",
					"application/x-shockwave-flash","pluginspage", "http://www.macromedia.com/go/getflashplayer" ); --></script></div><div class="exampleHeader">IFEventDispatcherTest.as</div><br/><div class="detailBody"><div class="listing"><pre>package me.feng.events
{
    import flash.events.IEventDispatcher;

    //
    // 测试事件调度器接口
    // @author warden_feng 2014-11-26
    //
    public class IFEventDispatcherTest extends TestBase
    {
        public function init():void
        {
            var dispatcher:IEventDispatcher = new DecoratedDispatcher();
            dispatcher.addEventListener("doSomething", didSomething);
            dispatcher.dispatchEvent(new FEvent("doSomething"));
        }

        public function didSomething(evt:FEvent):void
        {
            trace(evt.toString());
        }
    }
}

import flash.events.Event;
import flash.events.IEventDispatcher;

import me.feng.events.FEventDispatcher;

[Event(name = "added", type = "flash.events.Event")]

class DecoratedDispatcher implements IEventDispatcher
{
    private var dispatcher:FEventDispatcher;

    public function DecoratedDispatcher()
    {
        dispatcher = new FEventDispatcher(this);
    }

    public function addEventListener(type:String, listener:Function, useCapture:Boolean = false, priority:int = 0, useWeakReference:Boolean = false):void
    {
        dispatcher.addEventListener(type, listener);
    }

    public function dispatchEvent(event:Event):Boolean
    {
        return dispatcher.dispatchEvent(event);
    }

    public function removeEventListener(type:String, listener:Function, useCapture:Boolean = false):void
    {
        dispatcher.removeEventListener(type, listener);
    }

    public function hasEventListener(type:String):Boolean
    {
        return dispatcher.hasEventListener(type);
    }


    public function willTrigger(type:String):Boolean
    {
        return dispatcher.willTrigger(type);
    }
}
</pre></div><script language="javascript" type="text/javascript"><!-- AC_FL_RunContent( "src", "IFEventDispatcherTest", "width", "100%",
					"height","400px", "salign", "TL", "id", "example5", "quality", "high", "bgcolor", "", "name",
						"example5", "flashvars","", "allowScriptAccess","sameDomain", "type",
					"application/x-shockwave-flash","pluginspage", "http://www.macromedia.com/go/getflashplayer" ); --></script></div><br/><br/><hr><br/><p></p><center class="copyright"><footer>feng3d API 版权所有feng</footer><br/>Tue Jul 21 2015, 09:45 PM +08:00  </center></div></body></html><!--feng3d API 版权所有feng<br/>Tue Jul 21 2015, 09:45 PM +08:00  -->